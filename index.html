<!DOCTYPE html>
<html>
<head>
    <title>Game Hub Manager</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .container { display: flex; gap: 20px; }
        .form-section { border: 1px solid #ddd; padding: 15px; border-radius: 5px; width: 300px; }
        input, button { display: block; margin: 10px 0; width: 100%; padding: 8px; }
        button { background: #4CAF50; color: white; border: none; cursor: pointer; }
        button:hover { background: #45a049; }
        pre { background: #f5f5f5; padding: 10px; border-radius: 5px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>Game Hub Manager</h1>
    <div class="container">
        <!-- Jogo Section -->
        <div class="form-section">
            <h2>Jogos</h2>
            <input type="text" id="jogoNome" placeholder="Nome do Jogo">
            <input type="text" id="jogoGenero" placeholder="Gênero">
            <input type="text" id="jogoPublisher" placeholder="Publisher">
            <button onclick="createJogo()">Create Jogo</button>
            <button onclick="getJogos()">Get All Jogos</button>
            <pre id="jogoResult">Results will appear here</pre>
        </div>

        <!-- Conquista Section -->
        <div class="form-section">
            <h2>Conquistas</h2>
            <input type="text" id="conquistaNome" placeholder="Nome da Conquista">
            <input type="number" id="conquistaProgresso" placeholder="Progresso (0-100)" min="0" max="100">
            <label><input type="checkbox" id="conquistaConcluida"> Concluída?</label>
            <button onclick="createConquista()">Create Conquista</button>
            <button onclick="getConquistas()">Get All Conquistas</button>
            <pre id="conquistaResult">Results will appear here</pre>
        </div>
    </div>

    <script>
        const API_BASE_URL = 'http://localhost:8080/api';
        
        // Helper function for API calls
        async function makeRequest(url, method, body) {
            const options = {
                method: method,
                headers: { 'Content-Type': 'application/json' }
            };
            if (body) options.body = JSON.stringify(body);
            
            try {
                const response = await fetch(url, options);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                return await response.json();
            } catch (error) {
                console.error('Error:', error);
                return { error: error.message };
            }
        }

        // Jogo Functions
        async function createJogo() {
            const jogo = {
                nomeJogo: document.getElementById('jogoNome').value,
                genero: document.getElementById('jogoGenero').value,
                publisher: document.getElementById('jogoPublisher').value
            };
            const result = await makeRequest(`${API_BASE_URL}/jogos`, 'POST', jogo);
            document.getElementById('jogoResult').textContent = JSON.stringify(result, null, 2);
        }

        async function getJogos() {
            const result = await makeRequest(`${API_BASE_URL}/jogos`, 'GET');
            document.getElementById('jogoResult').textContent = JSON.stringify(result, null, 2);
        }

        // Conquista Functions
        async function createConquista() {
            const conquista = {
                nomeConquista: document.getElementById('conquistaNome').value,
                progresso: parseInt(document.getElementById('conquistaProgresso').value),
                concluida: document.getElementById('conquistaConcluida').checked
            };
            const result = await makeRequest(`${API_BASE_URL}/conquistas`, 'POST', conquista);
            document.getElementById('conquistaResult').textContent = JSON.stringify(result, null, 2);
        }

        async function getConquistas() {
            const result = await makeRequest(`${API_BASE_URL}/conquistas`, 'GET');
            document.getElementById('conquistaResult').textContent = JSON.stringify(result, null, 2);
        }
    </script>
</body>
</html>